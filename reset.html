<!DOCTYPE html>
<html>
<head>
    <title>Forgotten Password v2</title>
    <link rel="stylesheet" type="text/css" href="global-styles.css">
    <script src="header-script.js"></script>
    <script>
        // FullStory script goes here...
    </script>
</head>
<body>

<!-- HEADER -->
<div id="main" data-tracking-feature="recovery">
    <div class="header">
        <div class="header-links" data-tracking-category="navigation">
            <a id="link.register" class="header-link" href="login.html" data-tracking-link="login">Login</a>
            <a id="link.close" class="header-link" href="#" data-tracking-link="close">Close</a>
        </div>
    </div>

    <!-- PROGRESS BAR -->
    <div class="progress-bar">
        <div class="progress-bar-inner" style="width: 0;"></div>
    </div>

    <!-- INPUT FORM -->
    <div class="form-container">
        <form id="reset" action="submit_reset.php" method="post">
            <div class="form-step" id="step-1">
                <h2>Forgotten password - Reset</h2>
                <label for="field.email">Email:</label>
                <input type="email" id="field.email" data-tracking-field="email" required>
                <br>
                <a id="link.support" class="link" href="#" data-tracking-link="support">Contact Support</a>
                <br><br>
                <button id="button.submit.success" type="submit" onclick="submitForm(event)" data-tracking-button="submit" data-tracking-outcome="success" data-tracking-method="frontend">Send Reset Link</button>
            </div>
        </form>
    </div>

    <!-- POPUP -->
    <div id="popup" class="popup">
        <span class="close" id="closePopup">&times;</span>
        <p>The link to reset your password has been sent to your mailbox.</p>
    </div>
</div>

<script>
    document.getElementById('step-1').classList.add('active');

    function submitForm(event) {
        event.preventDefault(); // Prevent the default form submission

        // Display the popup
        document.getElementById('popup').style.display = 'block';
        
        // Optionally, submit the form programmatically
        // document.getElementById('reset').submit();
    }

    // Close the popup when the 'X' is clicked
    document.getElementById('closePopup').addEventListener('click', function() {
        document.getElementById('popup').style.display = 'none';
    });
</script>

</body>
</html>
